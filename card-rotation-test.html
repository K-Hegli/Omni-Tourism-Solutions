<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Rotation Test</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            padding: 40px 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 40px;
            color: #ff5c33;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            align-items: stretch;
            perspective: 1200px;
            perspective-origin: 50% 40%;
        }
        /* ===== 3D CARD STYLES ===== */
        .card {
            position: relative;
            width: 100%;
            min-height: 440px;
            height: auto;
            border-radius: 12px;
            perspective: 1200px;
            cursor: pointer;
            border: 1px solid rgba(255, 92, 51, 0.25);
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        /* === WHEN NOT FLIPPED === */
        .card:not(.flipped) .card-inner {
            transform: rotateY(0deg);
        }

        .card:not(.flipped) .card-face.front {
            visibility: visible;
            pointer-events: auto;
        }

        .card:not(.flipped) .card-face.back {
            visibility: hidden;
            pointer-events: none;
        }

        /* === WHEN FLIPPED === */
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card.flipped .card-face.front {
            visibility: hidden;
            pointer-events: none;
        }

        .card.flipped .card-face.back {
            visibility: visible;
            pointer-events: auto;
        }

        /* === FACE STYLES === */
        .card-face {
            position: absolute;
            inset: 0;
            padding: 24px;
            box-sizing: border-box;
            display: grid;
            grid-template-rows: auto 1fr auto;
            gap: 16px;
            border-radius: 12px;
            backface-visibility: hidden;
            overflow-y: auto;
            width: 100%;
            height: 100%;
        }

        .card-face.front {
            background: linear-gradient(145deg, #1a1a1a 0%, #0d0d0d 100%);
            box-shadow: 0 8px 24px rgba(0,0,0,0.6), inset 0 0 0 1px rgba(255,255,255,0.05);
            transform: rotateY(0deg);
            z-index: 10;
        }

        .card-face.front:hover {
            box-shadow: 0 12px 28px rgba(0,0,0,0.8), 0 0 14px rgba(255, 92, 51, 0.25);
        }

        .card-face.back {
            background: linear-gradient(145deg, #141414 0%, #0f0f0f 100%);
            box-shadow: 0 8px 24px rgba(0,0,0,0.6), inset 0 0 0 1px rgba(255,255,255,0.05);
            transform: rotateY(180deg);
            border: 1px solid rgba(255,255,255,0.06);
            z-index: 5;
        }

        /* === FACE CONTENT === */
        .card-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 10px;
        }

        .card-header h3 {
            margin: 0;
            font-size: 1.2rem;
            color: #e0e0e0;
            border-bottom: 1px solid #ff5c33;
            padding-bottom: 6px;
        }

        .card-body {
            display: flex;
            flex-direction: column;
            gap: 10px;
            overflow-y: auto;
        }

        .card-subtitle {
            font-size: 0.9rem;
            color: #888888;
            line-height: 1.4;
        }

        .card-footer {
            margin-top: auto;
        }

        /* === CAROUSEL === */
        .carousel {
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        .slide {
            display: none;
            flex-direction: column;
            gap: 10px;
        }

        .slide.active {
            display: flex;
        }

        .slide h4 {
            margin: 0;
            font-size: 1rem;
            color: #e0e0e0;
            font-weight: 600;
        }

        .slide ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .slide li {
            font-size: 0.9rem;
            color: #b0b0b0;
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .slide li::before {
            content: 'â€º ';
            color: #ff5c33;
            font-weight: bold;
        }

        /* === NAV DOTS === */
        .nav-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 12px;
        }

        .nav-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: transparent;
            border: 1px solid rgba(255, 92, 51, 0.5);
            cursor: pointer;
            transition: all 200ms ease;
        }

        .nav-dot:hover {
            background: rgba(255, 92, 51, 0.3);
        }

        .nav-dot.active {
            background: #ff5c33;
            border-color: #ff5c33;
        }

        /* === DEBUG INFO === */
        .debug-info {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #1a1a1a;
            border: 1px solid #ff5c33;
            padding: 16px;
            border-radius: 8px;
            font-size: 12px;
            font-family: monospace;
            max-width: 300px;
            z-index: 9999;
        }

        .debug-line {
            margin: 4px 0;
        }

        .debug-label {
            color: #ff5c33;
            font-weight: bold;
        }

        .debug-value {
            color: #b0b0b0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ­ Card Rotation Test</h1>
        
        <div class="grid">
            <!-- CARD 1 -->
            <div class="card" data-card="tourops">
                <div class="card-inner">
                    <!-- Front Face -->
                    <div class="card-face front">
                        <div class="card-header">
                            <h3>TourOps</h3>
                        </div>
                        <div class="card-body">
                            <p class="card-subtitle">Central Tour Operations Platform</p>
                        </div>
                        <div class="card-footer"></div>
                    </div>

                    <!-- Back Face -->
                    <div class="card-face back">
                        <div class="carousel">
                            <div class="slide active">
                                <h4>Outcomes</h4>
                                <ul>
                                    <li>Reduce manual admin</li>
                                    <li>Faster confirmations</li>
                                    <li>Scalable rostering</li>
                                </ul>
                            </div>
                            <div class="slide">
                                <h4>ROI snapshot</h4>
                                <div>
                                    <p><strong>Net monthly saving:</strong> â‚¬1,655</p>
                                    <p style="color: #ff5c33; font-weight: bold; margin-top: 8px;">222% first-month ROI</p>
                                </div>
                            </div>
                            <div class="slide">
                                <h4>Pilot</h4>
                                <p style="font-size: 0.9rem; margin-bottom: 12px;">2-week scoping included. Ready to start?</p>
                                <button style="background: linear-gradient(90deg, #ff2a5f, #ff5c33); color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 0.9rem; font-weight: 600;">Request Scoping</button>
                            </div>
                        </div>

                        <div class="nav-dots">
                            <button class="nav-dot active" data-slide="0"></button>
                            <button class="nav-dot" data-slide="1"></button>
                            <button class="nav-dot" data-slide="2"></button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CARD 2 -->
            <div class="card" data-card="bookingflow">
                <div class="card-inner">
                    <div class="card-face front">
                        <div class="card-header">
                            <h3>BookingFlow Pro</h3>
                        </div>
                        <div class="card-body">
                            <p class="card-subtitle">AI-powered Reservation Optimization</p>
                        </div>
                        <div class="card-footer"></div>
                    </div>

                    <div class="card-face back">
                        <div class="carousel">
                            <div class="slide active">
                                <h4>Outcomes</h4>
                                <ul>
                                    <li>Conversion rate +32%</li>
                                    <li>Revenue growth</li>
                                    <li>Better UX</li>
                                </ul>
                            </div>
                            <div class="slide">
                                <h4>ROI snapshot</h4>
                                <div>
                                    <p><strong>Net monthly saving:</strong> â‚¬1,150</p>
                                    <p style="color: #ff5c33; font-weight: bold; margin-top: 8px;">256% first-month ROI</p>
                                </div>
                            </div>
                            <div class="slide">
                                <h4>Pilot</h4>
                                <p style="font-size: 0.9rem; margin-bottom: 12px;">2-week pilot included.</p>
                                <button style="background: linear-gradient(90deg, #ff2a5f, #ff5c33); color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 0.9rem; font-weight: 600;">Start Optimization</button>
                            </div>
                        </div>

                        <div class="nav-dots">
                            <button class="nav-dot active" data-slide="0"></button>
                            <button class="nav-dot" data-slide="1"></button>
                            <button class="nav-dot" data-slide="2"></button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CARD 3 -->
            <div class="card" data-card="travelconnect">
                <div class="card-inner">
                    <div class="card-face front">
                        <div class="card-header">
                            <h3>TravelConnect</h3>
                        </div>
                        <div class="card-body">
                            <p class="card-subtitle">Global Connectivity Solutions</p>
                        </div>
                        <div class="card-footer"></div>
                    </div>

                    <div class="card-face back">
                        <div class="carousel">
                            <div class="slide active">
                                <h4>Outcomes</h4>
                                <ul>
                                    <li>180+ countries coverage</li>
                                    <li>Cost reduction</li>
                                    <li>24/7 support</li>
                                </ul>
                            </div>
                            <div class="slide">
                                <h4>ROI snapshot</h4>
                                <div>
                                    <p><strong>Net monthly saving:</strong> â‚¬950</p>
                                    <p style="color: #ff5c33; font-weight: bold; margin-top: 8px;">317% first-month ROI</p>
                                </div>
                            </div>
                            <div class="slide">
                                <h4>Pilot</h4>
                                <p style="font-size: 0.9rem; margin-bottom: 12px;">1-week pilot included.</p>
                                <button style="background: linear-gradient(90deg, #ff2a5f, #ff5c33); color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 0.9rem; font-weight: 600;">Test Solutions</button>
                            </div>
                        </div>

                        <div class="nav-dots">
                            <button class="nav-dot active" data-slide="0"></button>
                            <button class="nav-dot" data-slide="1"></button>
                            <button class="nav-dot" data-slide="2"></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- DEBUG INFO -->
    <div class="debug-info">
        <div class="debug-line"><span class="debug-label">Cards:</span> <span class="debug-value" id="card-count">0</span></div>
        <div class="debug-line"><span class="debug-label">First flipped:</span> <span class="debug-value" id="first-flipped">false</span></div>
        <div class="debug-line"><span class="debug-label">Active slide:</span> <span class="debug-value" id="active-slide">0</span></div>
    </div>

    <script>
        // Initialize card system
        const cards = document.querySelectorAll('.card');
        const debugCount = document.getElementById('card-count');
        const debugFlipped = document.getElementById('first-flipped');
        const debugSlide = document.getElementById('active-slide');

        debugCount.textContent = cards.length;

        cards.forEach(card => {
            const cardInner = card.querySelector('.card-inner');
            const slides = card.querySelectorAll('.slide');
            const navDots = card.querySelectorAll('.nav-dot');

            let isFlipped = false;
            let activeSlideIndex = 0;

            // Flip handler
            card.addEventListener('click', (e) => {
                // Don't flip if clicking a nav dot
                if (e.target.classList.contains('nav-dot')) return;
                if (e.target.tagName === 'BUTTON' && e.target.classList.contains('nav-dot')) return;

                isFlipped = !isFlipped;
                card.classList.toggle('flipped', isFlipped);
                
                if (cards[0] === card) {
                    debugFlipped.textContent = isFlipped;
                }

                console.log(`Card flipped: ${isFlipped}`);
            });

            // Keyboard flip
            card.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    card.click();
                }
            });

            // Nav dot handlers
            navDots.forEach((dot, index) => {
                dot.addEventListener('click', (e) => {
                    e.stopPropagation();
                    
                    activeSlideIndex = index;
                    
                    // Update slides
                    slides.forEach((slide, i) => {
                        slide.classList.toggle('active', i === index);
                    });
                    
                    // Update dots
                    navDots.forEach((d, i) => {
                        d.classList.toggle('active', i === index);
                    });

                    if (cards[0] === card) {
                        debugSlide.textContent = index;
                    }

                    console.log(`Slide changed to: ${index}`);
                });
            });
        });

        console.log('âœ… Card system initialized');
        console.log(`ðŸ“Š ${cards.length} cards ready`);
        console.log('ðŸ’¡ Try clicking a card!');
    </script>
</body>
</html>
